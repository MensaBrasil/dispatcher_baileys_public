###############################################
# Dispatcher Environment Example
# Copy to `.env` and adjust values as needed.
###############################################

# =====================
# General
# =====================
# Node environment for runtime behavior control
NODE_ENV=development

# =====================
# Logging
# =====================
# App log level (pino). One of: fatal, error, warn, info, debug, trace, silent
LOG_LEVEL=info
# Pretty-print logs (true recommended in development; set false in production)
PRETTY_LOGS=true
# Baileys internal logger level. One of: fatal, error, warn, info, debug, trace, silent
BAILEYS_LOG_LEVEL=fatal

# =====================
# Data Stores
# =====================
# Redis connection
# Host/IP of Redis server
REDIS_HOST=127.0.0.1
# TCP port of Redis server
REDIS_PORT=6379
# Password if Redis requires AUTH (leave empty if not)
REDIS_PASSWORD=

# PostgreSQL connection
PGHOST=127.0.0.1
PGPORT=5432
PGUSER=postgres
PGPASSWORD=
PGDATABASE=postgres

# =====================
# Twilio
# =====================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FLOW_SID=
TWILIO_WHATSAPP_NUMBER=

# =====================
# Task Behavior & Timing
# =====================
# Action delay between tasks (seconds)
ACTION_DELAY_MIN=1
ACTION_DELAY_MAX=3
# Random jitter added to action delay (seconds)
ACTION_DELAY_JITTER=0.5

# Main loop interval (seconds)
# Exact interval in seconds between runs. Default 1800 (30 minutes).
CYCLE_DELAY_SECONDS=1800
# Optional random jitter (seconds) added/subtracted to each interval to avoid patterns
CYCLE_JITTER_SECONDS=0

# Waiting period used by Twilio warning logic (milliseconds)
CONSTANT_WAITING_PERIOD=604800000

# =====================
# Scan Mode
# =====================
# Delay between groups (seconds)
SCAN_DELAY=1

# Enable scan by default without CLI flag
# ENABLE_SCAN=false

# =====================
# Safety Lists
# =====================
# Comma-separated phone numbers that must never be removed
DONT_REMOVE_NUMBERS=
# Comma-separated phone numbers that are exceptions for JB split rules
EXCEPTIONS=

# =====================
# Validation
# =====================
# Sanity check phone number (digits only). If not found in DB at startup,
# the application exits with a fatal error. Leave empty to skip the check.
SANITY_CHECK=

# =====================
# Message History & Cache
# =====================
# When true, requests full history on connect (heavier). Default: false
WPP_SYNC_FULL_HISTORY=false
# DB insert batch size for WhatsApp messages
WPP_MSG_DB_BATCH=200
# Store textual content of group messages in the database. Default: false
WPP_STORE_GROUP_MESSAGE_CONTENT=false
# Local file path for the message cache store (byId + lastPerGroup)
MESSAGE_STORE_PATH=.state/messages_store.json

# =====================
# Reconnect & Exit Policy
# =====================
# Maximum consecutive reconnect attempts before exiting with code 1
MAX_RECONNECT_ATTEMPTS=5
# Maximum backoff delay (ms) between reconnect attempts (exponential backoff)
MAX_RECONNECT_BACKOFF_MS=30000

# =====================
# Uptime Monitoring
# =====================
# Kuma Uptime Url
UPTIME_URL=https://your-kuma-uptime-url.com
